# ============================================================
# Yumi Smart Motion Sensor - Configuration Complète
# ============================================================
[filament_yumi_smart_motion_sensor my_sensor]  # <-- NOM CORRECT
# ------------------------------------------------------------
# Paramètres Essentiels
# ------------------------------------------------------------
switch_pin: ^PA1                     # OBLIGATOIRE (ex: ^PA1, !PC3)
extruder: extruder                   # OPTIONNEL (défaut: "extruder")

# ------------------------------------------------------------
# Paramètres de Détection de Rupture
# ------------------------------------------------------------
pause_on_runout: True                # OPTIONNEL (défaut: True)
detection_length: 7.0                # OPTIONNEL (défaut: 7.0 mm)

runout_gcode:                        # OPTIONNEL
  PAUSE
  M117 RUPTURE FILAMENT!

insert_gcode:                        # OPTIONNEL
  RESUME

# ------------------------------------------------------------
# Paramètres de Détection de Bouchage
# ------------------------------------------------------------
blockage_detection: True             # OPTIONNEL (défaut: False)
min_pitch: 0.1                       # CONDITIONNEL (défaut: 0.1 mm)
max_pitch: 2.4                       # CONDITIONNEL (défaut: 2.4 mm)
blockage_threshold: 2                # CONDITIONNEL (défaut: 2)
reset_motion_sensor_threshold: 16    # CONDITIONNEL (défaut: 16)

# ------------------------------------------------------------
# Paramètres Avancés
# ------------------------------------------------------------
low_pitch_filter: 0.005              # OPTIONNEL (défaut: 0.015 mm)
pitch_view: True                     # OPTIONNEL (défaut: False)
data_logging: True                   # OPTIONNEL (défaut: False)
log_file_path: /tmp/filament_log.csv # OPTIONNEL